const ModalSize={Default:"modal-sm",Medium:"modal-md",Large:"modal-lg",XLarge:"modal-xl"};class DynamicModal{constructor(t=""){this.showDynamicModal=((i="",r,o,n=ModalSize,d,s=!0,c=(()=>{}),u=(()=>{}))=>{$(".loadingContainer").show(),$("#placeHolderId"+t).val(d),$("#placeHolderId"+t).attr("closeModal",s),a="",l=!1,$("#DynamicModal"+t).unbind().on("hidden.bs.modal",()=>{$("#ModelContainer"+t).html("")}),$("#DynamicModal"+t+" > .modal-dialog").addClass(n);var m="?";$.each(o,(t,e)=>{m+=t+"="+e+"&"}),$("#ModelTitle"+t).text(i),$.ajax({type:"GET",url:r+m,datatype:"json",success:a=>{var l=!1,i=!1,r=!1;if(null!=a.StatusCode&&""!=a.StatusDescription){500==a.StatusCode?l=!0:401==a.StatusCode?i=!0:203==a.StatusCode&&(r=!0);var o=DynamicAlert.init();l&&o.ShowAlert(a.StatusDescription,AlertType.Error),i&&location.reload()}0==l&&0==r&&(null!=a.HTML&&""!=a.HTML?$("#ModelContainer"+t).html(a.HTML):$("#ModelContainer"+t).html(a),e(t,u),$("#DynamicModal"+t).modal("show")),$(".loadingContainer").hide(),0==l&&"function"==typeof c&&c()},error:function(){$(".loadingContainer").hide(),DynamicAlert.init().ShowAlert("Internal Server Error",AlertType.Error)}})}),this.Id=t;const e=function(t="",e=null){$("#ModelContainer"+t+" > form").each(function(){jQuery.validator.unobtrusive.parse(),null==$(this).attr("id")&&$(this).attr("id","form1");var i=$(this).attr("id");a=$("#"+i).serialize(),$("#DynamicModal"+t).on("hide.bs.modal",function(t){if(a!=$("#"+i).serialize()&&0==l&&1!=confirm("There is some unsaved changes, Are you sure do you want to leave?"))return!1}),jQuery.validator.unobtrusive.parse("#"+$(this).attr("id")),$(this).unbind().submit(function(r){if(r.preventDefault(),!$(this).valid())return!1;var o=$(this).attr("action"),n=$(this).attr("method"),d=$(this).serialize();$(".loadingContainer").show(),$.ajax({url:o,type:n,data:d,success:function(r){var o=!1,n=!1;if(null!=r.StatusCode&&""!=r.StatusDescription){if(500==r.StatusCode?o=!0:401==r.StatusCode&&(n=!0),n)return alert(r.StatusDescription),void location.reload();var d=DynamicAlert.init();o?d.ShowAlert(r.StatusDescription,AlertType.Error):d.ShowAlert(r.StatusDescription,AlertType.Success),""!=$("#placeHolderId"+t).val()&&null!=$("#placeHolderId"+t).val()&&null!=r.HTML&&""!=r.HTML&&$("#"+$("#placeHolderId"+t).val()).html(r.HTML)}else""!=$("#placeHolderId"+t).val()&&null!=$("#placeHolderId"+t).val()&&(null!=r.HTML&&""!=r.HTML?$("#"+$("#placeHolderId"+t).val()).html(r.HTML):$("#"+$("#placeHolderId"+t).val()).html(r));"function"==typeof e&&0==o&&e(),l=!0,"true"==$("#placeHolderId"+t).attr("closeModal")&&0==o?($("#DynamicModal"+t).modal("hide"),$("#ModelContainer"+t).html("")):(a=$("#"+i).serialize(),l=!1),$(".loadingContainer").hide()},error:function(t,e,l){alert("Error occurred!"),$(".loadingContainer").hide(),a=""}})})})};var a="",l=!1;this.hideModal=(()=>{$("#DynamicModal"+this.Id).modal("hide")})}static init(t=""){return $("body").append('<div class="modal-dark modal fade" id="DynamicModal'+t+'" tabindex="-1" role="dialog" aria-labelledby="ModelTitle'+t+'" aria-hidden="true"><input type = "hidden" id = "placeHolderId'+t+'" /><div class="modal-dialog" role="document"><div class="modal-content" style="border: solid 1px;"><div class="modal-header text-center"><span class="modal-title h3 text-center" id="ModelTitle'+t+'"> </span><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button></div><div class="modal-body" id="ModelContainer'+t+'"></div><div class="modal-footer"><button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button></div></div></div></div>'),new DynamicModal(t)}}const AlertType={Error:"alert-danger",Success:"alert-success",Info:"alert-info"};var DynamicAlertCount=0;class DynamicAlert{constructor(){this.ShowAlert=((e,a=AlertType)=>{t(DynamicAlertCount+=1),$("#DynamicAlert"+DynamicAlertCount).removeClass("alert-danger").removeClass("alert-success").removeClass("alert-info"),$("#DynamicAlert"+DynamicAlertCount).addClass(a),$("#DynamicAlertMessage"+DynamicAlertCount).html(e)}),this.ShowAlertAjax=(e=>{t(DynamicAlertCount+=1);var a=!1,l=!1;if($("#DynamicAlert"+DynamicAlertCount).removeClass("alert-danger").removeClass("alert-success").removeClass("alert-info"),null!=e.StatusCode&&""!=e.StatusDescription)return $("#DynamicAlertMessage"+DynamicAlertCount).html(e.StatusDescription),500==e.StatusCode?(a=!0,$("#DynamicAlert"+DynamicAlertCount).addClass(AlertType.Error)):401==e.StatusCode?(l=!0,$("#DynamicAlert"+DynamicAlertCount).addClass(AlertType.Error),alert(e.StatusDescription)):$("#DynamicAlert"+DynamicAlertCount).addClass(AlertType.Success),l&&location.reload(),!a});const t=t=>{$("div#DynamicAlerts").append('<div class="col-12 alert alert-dismissible"  style="z-index:100000" Id="DynamicAlert'+t+'" ><div  style="padding-left: 10px;"  role="alert"><button class="close"  style="width:10px; height:10px;color:black;  padding-bottom: 19px;" type="button" data-dismiss="alert" aria-hidden="true"><span class="">x</span> </button> <span id="DynamicAlertMessage'+t+'"></span></div></div>')}}static init(){return 0==$("#DynamicAlerts").length&&$("body").prepend('<div id="DynamicAlerts" class="container-fluid"  style="position: -webkit-sticky; position: fixed !important; top: 0px; z-index: 100000000000;"></div>'),new DynamicAlert}}